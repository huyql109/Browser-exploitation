- ArrayBuffer
```
(lldb) x/6gx 0x2507080c5f7c
0x2507080c5f78: 0x0000250708281181 0x00002507080406e1 
0x2507080c5f80: 0x00002507080406e1 0x0000000000001000
0x2507080c5f88: 0x0000000107845c00 0x0000000107632708
```

- ArrayBuffer with pointer compression
```
(lldb) x/9wx 0x2507080c5f7c
0x2507080c5f7c: 0x08281181 0x080406e1 0x080406e1 0x00001000
0x2507080c5f8c: 0x00000000 0x07845c00 0x00000001 0x07632708
0x2507080c5f9c: 0x00000001
```
**heap base**: `0x250700000000`

- ArrayBuffer with pointer compression, heap sandbox aka memory cage
```
(lldb) x/8wx 0x2507080c5f7c
0x2507080c5f7c: 0x08281181 0x080406e1 0x080406e1 0x00001000
0x2507080c5f8c: 0x00000000 0x00000000 0x0000045c 0x00000042
```
**heap base**: `0x250700000000`
**off-heap backing store pointer**: the offset is `0x45c00` but shift left 24 to guarantee that top bits are zero
**raw pointer to the ArrayBufferExtension object**: 32-bit index into an external pointer table


The ArrayBuffer object contains the following fields:
Map , 64 bit on-heap pointer
JS Properties array , 64 bit on-heap pointer
JS Elements array , 64 bit on-heap pointer
Size in bytes , 64 bit unsigned integer
Backing storage , 64 bit off-heap pointer
ArrayBufferExtension , 64 bit off-heap pointer

conclusion:
- on-heap base and sandboxPointer is the same
- on-heap replaced with the offset with 32 bit (2**32 = 4gb)
- off-heap replaced with the offset with 40 bit (2**40 = 1tb)

```
+++++++++++++++++++++++++++++++++++++++++++++++++++++
+                                                   +
+                Guard Region (32GB)                +
+                                                   +
+                                                   +
+                                                   +
+++++++++++++++++++++++++++++++++++++++++++++++++++++
+                                                   +
+                                                   +
+++++++++++++++++++++++++++++++++++++++++++++++++++++
+                                                   +
+            WASM Memory Cage (10GB)                +
+              (location flexible)                  +
+                                                   +
+++++++++++++++++++++++++++++++++++++++++++++++++++++
+                                                   +
+++++++++++++++++++++++++++++++++++++++++++++++++++++
+                                                   +
+           ArrayBuffer Partition (2GB-8GB)         +
+              (location flexible)                  +
+++++++++++++++++++++++++++++++++++++++++++++++++++++
+                                                   +
+                                                   +
+                                                   +
+++++++++++++++++++++++++++++++++++++++++++++++++++++
+                                                   +
+            WASM Memory Cage (10GB)                +
+              (location flexible)                  +
+                                                   +
+++++++++++++++++++++++++++++++++++++++++++++++++++++
+                                                   +
+                                                   +
+                                                   +
+                                                   +
+++++++++++++++++++++++++++++++++++++++++++++++++++++ -> from here to above is 40-bit offsets from sandbox base ^
+                                                   +
+          V8 Pointer Compression Cage (4GB)        +
+              (location flexible)                  +
+++++++++++++++++++++++++++++++++++++++++++++++++++++ -> SandboxedPointer (base pointer)
+                                                   +
+                                                   +
+                Guard Region (32GB)                +
+                                                   +
+                                                   +
+++++++++++++++++++++++++++++++++++++++++++++++++++++

```